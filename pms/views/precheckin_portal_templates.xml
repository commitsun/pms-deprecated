<?xml version="1.0" encoding="utf-8" ?>
<odoo>
    <template id="portal_my_precheckin_detail" name="My Precheckin">
        <t t-call="portal.portal_layout">
            <t t-set="additional_title">Contact Details</t>
            <form action="/my/precheckin" method="post">
                <div class="row o_portal_details">
                    <div t-attf-class="form-group col-xl-6 d-none">
                                <input
                            type="number"
                            name="id"
                            t-attf-class="form-control"
                            t-att-value="id or checkin_partner.id"
                        />

                            </div>
                        <div class="col-lg-8">
                            <div class="row">
                                <div t-attf-class="form-group col-xl-6">
                                    <label
                                    class="col-form-label"
                                    for="firstname"
                                >Name</label>
                                    <input
                                    type="text"
                                    name="firstname"
                                    t-attf-class="form-control"
                                    t-att-value="firstname or checkin_partner.firstname"
                                />
                                </div>
                                <div t-attf-class="form-group col-xl-6">
                                    <label
                                    class="col-form-label"
                                    for="lastname"
                                >Lastname</label>
                                    <input
                                    type="text"
                                    name="lastname"
                                    t-attf-class="form-control"
                                    t-att-value="lastname or checkin_partner.lastname"
                                />
                                </div>
                                <div t-attf-class="form-group col-xl-6">
                                    <label
                                    class="col-form-label"
                                    for="lastname2"
                                > Second Lastname</label>
                                    <input
                                    type="text"
                                    name="lastname2"
                                    t-attf-class="form-control"
                                    t-att-value="lastname2 or checkin_partner.lastname2"
                                />
                                </div>
                                <div t-attf-class="form-group col-xl-6">
                                    <label
                                    class="col-form-label"
                                    for="birthdate_date"
                                > Birth Date</label>
                                    <input
                                    type="date"
                                    name="birthdate_date"
                                    t-attf-class="form-control"
                                    t-att-value="birth_date or checkin_partner.birthdate_date"
                                />
                                </div>
                                <div t-attf-class="form-group col-xl-6">
                                    <label
                                    class="col-form-label"
                                    for="gender"
                                >Gender</label>
                                    <select
                                    class="form-control"
                                    id="gender"
                                    name="gender"
                                >
                                        <option value="female">Female</option>
                                        <option value="male">Male</option>
                                        <option value="other">Other</option>
                                    </select>
                                </div>
                                <div t-attf-class="form-group col-xl-6">
                                    <label
                                    class="col-form-label"
                                    for="document_type"
                                >Doc. type</label>
                                    <select
                                    class="form-control"
                                    id="doc_type_id"
                                    name="document_type"
                                >
                                        <option value="D">DNI</option>
                                        <option value="C">Driving License</option>
                                        <option
                                        value="I"
                                    >Identification Document</option>
                                        <option
                                        value="N"
                                    >Spanish residence permit</option>
                                        <option
                                        value="X"
                                    >European residence permit</option>
                                   </select>
                                </div>
                                <div t-attf-class="form-group col-xl-6">
                                    <label
                                    class="col-form-label"
                                    for="document_number"
                                >Doc. number</label>
                                    <input
                                    type="text"
                                    name="document_number"
                                    t-attf-class="form-control"
                                    t-att-value="doc_number or checkin_partner.document_number"
                                />
                                </div>
                                <div t-attf-class="form-group col-xl-6">
                                    <label
                                    class="col-form-label"
                                    for="document_expedition_date"
                                >Doc. expedition date</label>
                                    <input
                                    type="date"
                                    name="document_expedition_date"
                                    t-attf-class="form-control"
                                    t-att-value="doc_exp_date or checkin_partner.document_expedition_date"
                                />
                                </div>
                                <div t-attf-class="form-group col-xl-6">
                                    <label
                                    class="col-form-label"
                                    for="mobile"
                                >Mobile</label>
                                    <input
                                    type="number"
                                    name="mobile"
                                    t-attf-class="form-control"
                                    t-att-value="mobile or checkin_partner.mobile"
                                />
                                </div>
                                <div t-attf-class="form-group col-xl-6">
                                    <label
                                    class="col-form-label"
                                    for="email"
                                >Email</label>
                                    <input
                                    type="email"
                                    name="email"
                                    t-attf-class="form-control"
                                    t-att-value="email or checkin_partner.email"
                                />
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="clearfix">
                        <button type="submit" class="btn btn-primary float-right mb32 ">
                            Confirm
                            <span class="fa fa-long-arrow-right" />
                        </button>
                    </div>
            </form>
        </t>
    </template>
    <template id="portal_my_reservation_precheckin" name="Precheckin Reservation">
        <t t-call="portal.portal_layout">
            <t t-if="not reservation.checkin_partner_ids">
                <p
                >There are currently no precheckins in this reserva for your account.</p>
            </t>
            <t t-if="reservation.checkin_partner_ids" t-call="portal.portal_table">
                <thead>
                    <tr class="active">
                        <th>PreCheckin in Reservation <span
                                t-field="reservation.name"
                            /></th>
                    </tr>
                </thead>
                <tbody>
                    <t t-set="count" t-value="1" />
                    <t
                        t-foreach="reservation.checkin_partner_ids"
                        t-as="checkin_partner"
                    >
                        <t t-set="id1" t-value="'counter'+ str(count)" />
                        <t t-set="id2" t-value="'#'" />
                        <t t-set="id3" t-value="str(id2)+str(id1)" />
                        <t t-set="count" t-value="count+1" />
                        <form class="collapse" action="/my/reservations/precheckin">
                            <tr>
                                <td colspan="4">
                                <a t-att-href="checkin_partner.get_portal_url()">
                                        Checkin
                                </a>
                                    <button
                                        type="button"
                                        class="btn btn-info"
                                        data-toggle="collapse"
                                        t-att-data-target="id3"
                                    >Drop down</button>
                                    <div class="row o_portal_details">
                                        <div class="col-lg-8">
                                            <div class="row collapse" t-att-id="id1">
                                                <div t-attf-class="form-group col-xl-6">
                                                    <label
                                                        class="col-form-label"
                                                        for="firstname"
                                                    >Name</label>
                                                    <input
                                                        type="text"
                                                        name="firstname"
                                                        t-attf-class="form-control"
                                                        t-att-value="firstname or checkin_partner.firstname"
                                                    />
                                                </div>
                                                <div t-attf-class="form-group col-xl-6">
                                                    <label
                                                        class="col-form-label"
                                                        for="lastname"
                                                    >Lastname</label>
                                                    <input
                                                        type="text"
                                                        name="lastname"
                                                        t-attf-class="form-control"
                                                        t-att-value="lastname or checkin_partner.lastname"
                                                    />
                                                </div>
                                                <div t-attf-class="form-group col-xl-6">
                                                    <label
                                                        class="col-form-label"
                                                        for="lastname2"
                                                    > Second Lastname</label>
                                                    <input
                                                        type="text"
                                                        name="lastname2"
                                                        t-attf-class="form-control"
                                                        t-att-value="lastname2 or checkin_partner.lastname2"
                                                    />
                                                </div>
                                                <div t-attf-class="form-group col-xl-6">
                                                    <label
                                                        class="col-form-label"
                                                        for="birthdate_date"
                                                    > Birth Date</label>
                                                    <input
                                                        type="date"
                                                        name="birthdate_date"
                                                        t-attf-class="form-control"
                                                        t-att-value="birth_date or checkin_partner.birthdate_date"
                                                    />
                                                </div>
                                                <div t-attf-class="form-group col-xl-6">
                                                    <label
                                                        class="col-form-label"
                                                        for="gender"
                                                    >Gender</label>
                                                    <select
                                                        class="form-control"
                                                        id="gender"
                                                        name="gender"
                                                    >
                                                        <option
                                                            value="female"
                                                        >Female</option>
                                                        <option
                                                            value="male"
                                                        >Male</option>
                                                        <option
                                                            value="other"
                                                        >Other</option>
                                                    </select>
                                                </div>
                                                <div t-attf-class="form-group col-xl-6">
                                                    <label
                                                        class="col-form-label"
                                                        for="document_type"
                                                    >Doc. type</label>
                                                    <select
                                                        class="form-control"
                                                        id="doc_type_id"
                                                        name="document_type"
                                                    >
                                                        <option value="D">DNI</option>
                                                        <option
                                                            value="C"
                                                        >Driving License</option>
                                                        <option
                                                            value="I"
                                                        >Identification Document</option>
                                                        <option
                                                            value="N"
                                                        >Spanish residence permit</option>
                                                        <option
                                                            value="X"
                                                        >European residence permit</option>
                                                   </select>
                                                </div>
                                                <div t-attf-class="form-group col-xl-6">
                                                    <label
                                                        class="col-form-label"
                                                        for="document_number"
                                                    >Doc. number</label>
                                                    <input
                                                        type="text"
                                                        name="document_number"
                                                        t-attf-class="form-control"
                                                        t-att-value="doc_number or checkin_partner.document_number"
                                                    />
                                                </div>
                                                <div t-attf-class="form-group col-xl-6">
                                                    <label
                                                        class="col-form-label"
                                                        for="document_expedition_date"
                                                    >Doc. expedition date</label>
                                                    <input
                                                        type="date"
                                                        name="document_expedition_date"
                                                        t-attf-class="form-control"
                                                        t-att-value="doc_exp_date or checkin_partner.document_expedition_date"
                                                    />
                                                </div>
                                                <div t-attf-class="form-group col-xl-6">
                                                    <label
                                                        class="col-form-label"
                                                        for="mobile"
                                                    >Mobile</label>
                                                    <input
                                                        type="number"
                                                        name="mobile"
                                                        t-attf-class="form-control"
                                                        t-att-value="mobile or checkin_partner.mobile"
                                                    />
                                                </div>
                                                <div t-attf-class="form-group col-xl-6">
                                                    <label
                                                        class="col-form-label"
                                                        for="email"
                                                    >Email</label>
                                                    <input
                                                        type="email"
                                                        name="email"
                                                        t-attf-class="form-control"
                                                        t-att-value="email or checkin_partner.email"
                                                    />
                                                </div>
                                                <div
                                                    t-attf-class="form-group col-xl-6 d-none"
                                                >
                                                    <input
                                                        type="text"
                                                        name="id"
                                                        t-attf-class="form-control"
                                                        t-att-value="checkin_partner.id"
                                                    />
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <div class="clearfix">
                                        <button
                                            type="submit"
                                            class="btn btn-primary float-right mb32 "
                                        >
                                            Confirm
                                            <span class="fa fa-long-arrow-right" />
                                        </button>
                                    </div>
                                </td>
                            </tr>
                        </form>
                    </t>
<!--                        <div t-attf-class="form-group col-xl-6 d-none">-->
<!--                            <input-->
<!--                                type="text"-->
<!--                                name="checkins"-->
<!--                                t-attf-class="form-control"-->
<!--                                t-att-value="checkins"-->
<!--                            />-->
<!--                        </div>-->

                </tbody>
            </t>
      </t>
    </template>
        <template id="portal_my_folio_precheckin" name="Precheckin Folio">
        <t t-call="portal.portal_layout">
            <t t-if="not folio.reservation_ids">
                <p
                >There are currently no reservations in this folio for your account.</p>
            </t>
            <t t-if="folio.reservation_ids" t-call="portal.portal_table">
                <thead>
                    <tr class="active">
                        <th>PreCheckin in Folio <span t-field="folio.name" /></th>
                    </tr>
                </thead>
                <tbody>
                    <t t-foreach="folio.reservation_ids" t-as="reservation">
                        <tr class="bg-light">
                            <td colspan="4"><em
                                    class="font-weight-normal text-muted"
                                ><span />Reservation: </em>
                                <a
                                    t-att-href="reservation.get_portal_url(suffix='/precheckin')"
                                    t-att-title="reservation.name"
                                >
                                    <t t-esc="reservation.name" />
                                </a>
                            </td>
                        </tr>
                        <t t-set="count" t-value="1" />
                        <t
                            t-foreach="reservation.checkin_partner_ids"
                            t-as="checkin_partner"
                        >
                            <t t-set="id1" t-value="'counter'+ str(count)" />
                            <t t-set="id2" t-value="'#'" />
                            <t t-set="id3" t-value="str(id2)+str(id1)" />
                            <t t-set="count" t-value="count+1" />
                            <form class="collapse" action="/my/precheckin">
                            <tr>
                                <td colspan="4">
                                <a t-att-href="checkin_partner.get_portal_url()">
                                        Checkin
                                </a>
                                    <button
                                            type="button"
                                            class="btn btn-info"
                                            data-toggle="collapse"
                                            t-att-data-target="id3"
                                        >Drop down</button>
                                    <div class="row o_portal_details">
                                        <div class="col-lg-8">
                                            <div class="row collapse" t-att-id="id1">
                                                <div t-attf-class="form-group col-xl-6">
                                                    <label
                                                            class="col-form-label"
                                                            for="firstname"
                                                        >Name</label>
                                                    <input
                                                            type="text"
                                                            name="firstname"
                                                            t-attf-class="form-control"
                                                            t-att-value="firstname or checkin_partner.firstname"
                                                        />
                                                </div>
                                                <div t-attf-class="form-group col-xl-6">
                                                    <label
                                                            class="col-form-label"
                                                            for="lastname"
                                                        >Lastname</label>
                                                    <input
                                                            type="text"
                                                            name="lastname"
                                                            t-attf-class="form-control"
                                                            t-att-value="lastname or checkin_partner.lastname"
                                                        />
                                                </div>
                                                <div t-attf-class="form-group col-xl-6">
                                                    <label
                                                            class="col-form-label"
                                                            for="lastname2"
                                                        > Second Lastname</label>
                                                    <input
                                                            type="text"
                                                            name="lastname2"
                                                            t-attf-class="form-control"
                                                            t-att-value="lastname2 or checkin_partner.lastname2"
                                                        />
                                                </div>
                                                <div t-attf-class="form-group col-xl-6">
                                                    <label
                                                            class="col-form-label"
                                                            for="birthdate_date"
                                                        > Birth Date</label>
                                                    <input
                                                            type="date"
                                                            name="birthdate_date"
                                                            t-attf-class="form-control"
                                                            t-att-value="birth_date or checkin_partner.birthdate_date"
                                                        />
                                                </div>
                                                <div t-attf-class="form-group col-xl-6">
                                                    <label
                                                            class="col-form-label"
                                                            for="gender"
                                                        >Gender</label>
                                                    <select
                                                            class="form-control"
                                                            id="gender"
                                                            name="gender"
                                                        >
                                                        <option
                                                                value="female"
                                                            >Female</option>
                                                        <option
                                                                value="male"
                                                            >Male</option>
                                                        <option
                                                                value="other"
                                                            >Other</option>
                                                    </select>
                                                </div>
                                                <div t-attf-class="form-group col-xl-6">
                                                    <label
                                                            class="col-form-label"
                                                            for="document_type"
                                                        >Doc. type</label>
                                                    <select
                                                            class="form-control"
                                                            id="doc_type_id"
                                                            name="document_type"
                                                        >
                                                        <option value="D">DNI</option>
                                                        <option
                                                                value="C"
                                                            >Driving License</option>
                                                        <option
                                                                value="I"
                                                            >Identification Document</option>
                                                        <option
                                                                value="N"
                                                            >Spanish residence permit</option>
                                                        <option
                                                                value="X"
                                                            >European residence permit</option>
                                                   </select>
                                                </div>
                                                <div t-attf-class="form-group col-xl-6">
                                                    <label
                                                            class="col-form-label"
                                                            for="document_number"
                                                        >Doc. number</label>
                                                    <input
                                                            type="text"
                                                            name="document_number"
                                                            t-attf-class="form-control"
                                                            t-att-value="doc_number or checkin_partner.document_number"
                                                        />
                                                </div>
                                                <div t-attf-class="form-group col-xl-6">
                                                    <label
                                                            class="col-form-label"
                                                            for="document_expedition_date"
                                                        >Doc. expedition date</label>
                                                    <input
                                                            type="date"
                                                            name="document_expedition_date"
                                                            t-attf-class="form-control"
                                                            t-att-value="doc_exp_date or checkin_partner.document_expedition_date"
                                                        />
                                                </div>
                                                <div t-attf-class="form-group col-xl-6">
                                                    <label
                                                            class="col-form-label"
                                                            for="mobile"
                                                        >Mobile</label>
                                                    <input
                                                            type="number"
                                                            name="mobile"
                                                            t-attf-class="form-control"
                                                            t-att-value="mobile or checkin_partner.mobile"
                                                        />
                                                </div>
                                                <div t-attf-class="form-group col-xl-6">
                                                    <label
                                                            class="col-form-label"
                                                            for="email"
                                                        >Email</label>
                                                    <input
                                                            type="email"
                                                            name="email"
                                                            t-attf-class="form-control"
                                                            t-att-value="email or checkin_partner.email"
                                                        />
                                                </div>
                                                <div
                                                        t-attf-class="form-group col-xl-6 d-none"
                                                    >
                                                    <input
                                                            type="text"
                                                            name="id"
                                                            t-attf-class="form-control"
                                                            t-att-value="id or checkin_partner.id"
                                                        />
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <div class="clearfix">
                                        <button
                                                type="submit"
                                                class="btn btn-primary float-right mb32 "
                                            >
                                            Confirm
                                            <span class="fa fa-long-arrow-right" />
                                        </button>
                                    </div>
                                </td>
                            </tr>
                        </form>
                        </t>
                    </t>
                </tbody>
            </t>
      </t>
    </template>
</odoo>
