<?xml version="1.0" encoding="utf-8" ?>
<odoo>

    <record id="view_pms_room_rack_tree" model="ir.ui.view">
        <field name="name">Room rack view</field>
        <field name="model">pms.room_rack</field>
        <field name="type">tree</field>
        <!-- <field name="mode">primary</field> -->
        <field name="priority" eval="16" />
        <field name="active" eval="True" />
        <field name="arch" type="xml">
            <tree string="Room Rack" default_order="rack_date">
                <field name="rack_date" colspan="1" />
                <field name="room" colspan="1" />
                <field name="employee" colspan="1" />
                <field name="clean_status" colspan="1" />
            </tree>
        </field>
    </record>

    <record model="ir.actions.act_window" id="action_pms_room_rack_view_form">
        <field name="name">Room rack</field>
        <field name="res_model">pms.room_rack</field>
        <field name="view_mode">kanban,tree,form</field>
        <field
            name="domain"
        >[('rack_date', '=',(context_today()).strftime('%Y-%m-%d'))]</field>
    </record>

<record model="ir.actions.act_window" id="action_pms_room_rack_view_tree">
    <field name="name">Room rack</field>
    <field name="res_model">pms.room_rack</field>
    <field name="view_mode">tree,form</field>
    <field
            name="domain"
        >[('rack_date', '>=',(context_today()).strftime('%Y-%m-%d'))]</field>
</record>

    <!-- <record id="view_pms_room_rack_kanban" model="ir.ui.view">
        <field name="name">Room rack kanban view</field>
        <field name="model">pms.room_rack</field>
        <field name="type">kanban</field>
        <field name="mode">primary</field>
        <field name="priority" eval="16" />
        <field name="active" eval="True" />
        <field name="arch" type="xml">
            <kanban default_group_by="clean_status" class="o_res_partner_kanban" sample="1" create="false">
                <field name="room"/>
                <field name="employee"/>
                <field name="clean_status"/>
                <templates>
                    <t t-name="kanban-box">
                        <div t-attf-class="oe_kanban_global_click_edit">
                            <div>
                                <div style="font-size: 1.2em;">
                                    <field name="room"/>
                                </div>
                                <div>
                                    <field name="clean_status" placeholder="Room Reservation"/>
                                </div>
                                <div class="float-right" style="text-align: center">

                                    <t t-if="record.employee.raw_value">
                                        <div class="o_kanban_image">
                                            <img alt="Employee image" t-att-src="kanban_image('hr.employee', 'image_128', record.employee.raw_value)"/>
                                            <div style="white-space: nowrap; overflow: hidden;">
                                                <field name="employee" placeholder="Employee Name"/>
                                            </div>
                                        </div>
                                    </t>
                                    <t t-if="!record.employee.raw_value">
                                        <span class="fa fa-exclamation-triangle" style="font-size: 52px;color: #f3a0a0;"> </span>
                                        <p>Not asigned</p>
                                    </t>
                                </div>
                            </div>
                        </div>
                    </t>
                </templates>
            </kanban>
        </field>
    </record> -->

    <menuitem
        name="Limpieza futuro"
        id="menu_action_pms_room_rack"
        action="action_pms_room_rack_view_tree"
        sequence="20"
        parent="pms-housekeeping.menu_action_pms_house_keeping"
    />

</odoo>
