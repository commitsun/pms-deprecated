<?xml version="1.0" encoding="utf-8" ?>
<odoo>
    <record id="view_pms_housekeeping_tree" model="ir.ui.view">
        <field name="name">Housekeeping view</field>
        <field name="model">pms.housekeeping</field>
        <field name="type">tree</field>
        <field name="mode">primary</field>
        <field name="priority" eval="16" />
        <field name="active" eval="True" />
        <field name="arch" type="xml">
            <tree string="Housekeeping tasks">
                <field name="task_date" colspan="1" />
                <field name="state" colspan="1" />
                <field name="room_id" colspan="1" />
                <field name="employee_id" colspan="1" />
                <field name="task_id" colspan="1" />
                <field name="notes" colspan="1" />
            </tree>
        </field>
    </record>

    <record model="ir.actions.act_window" id="action_pms_house_keeping_view_form">
        <field name="name">Housekeeping</field>
        <field name="res_model">pms.housekeeping</field>
        <field name="view_mode">tree,form</field>
    </record>

    <record model="ir.actions.act_window" id="action_pms_house_keeping_view_today_form">
        <field name="name">Housekeeping</field>
        <field name="res_model">pms.housekeeping</field>
        <field
            name="domain"
        >[('task_date', '=',(context_today().strftime('%Y-%m-%d')))]</field>
        <field name="view_mode">tree,form</field>
    </record>

    <menuitem
        name="Housekeeping"
        id="menu_action_pms_house_keeping"
        sequence="17"
        parent="pms.pms_management_menu"
    />
    <menuitem
        name="Room Rack"
        id="menu_action_pms_house_keeping_view_rack"
        action="pms-housekeeping.action_pms_room_rack_kanban"
        sequence="10"
        parent="pms-housekeeping.menu_action_pms_house_keeping"
    />
    <menuitem
        name="Today Tasks"
        id="menu_action_pms_house_keeping_view_today_form"
        action="action_pms_house_keeping_view_today_form"
        sequence="20"
        parent="pms-housekeeping.menu_action_pms_house_keeping"
    />
    <menuitem
        name="Tasks History"
        id="menu_action_pms_house_keeping_view_form"
        action="action_pms_house_keeping_view_form"
        sequence="30"
        parent="pms-housekeeping.menu_action_pms_house_keeping"
    />

</odoo>
